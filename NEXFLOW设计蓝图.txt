NEXFLOW V2 终极架构蓝图
1. 核心底层：稳如泰山的“直连架构”

    彻底隔离： 前端（React）负责“长相”和交互，主进程（Node.js）负责“干活”和联网。

    告别跨域： 所有 API 请求通过 ipcMain 在主进程发起，像 Python 脚本一样直连官方服务器，彻底解决 502 报错。

    环境规范： 全局强制 UTF-8 无 BOM 编码，禁用所有前端 fetch。

2. 功能灵魂：配置驱动的“节点工厂”

    动态解析： 你无需为每个模型写代码。通过一个 manifest.json 注册表，程序自动在画布上“长出”对应的输入框和按钮。

    热插拔升级： 以后想加新模型，只需在配置文件里加几行 JSON 描述。你甚至可以做一个简单的“开发者界面”来图形化添加新功能。

3. 业务引擎：双平台深度集成

    大脑引擎 (BLTCY)： 负责 Sora2、Gemini 2.5 Pro 等大模型，支持文本生成、图片参考视频生成。

    插件引擎 (RunningHub)： 负责 ComfyUI 小应用。主进程自动处理“提交 -> 轮询 -> 结果”的异步闭环。

    财务看板： 顶部状态栏实时监控双平台的余额、RH币、令牌配额，并伴有“心跳检测灯”。

4. 数据与生态：草稿与工程系统

    本地存储： 利用 electron-store 确保存储的 Key 和激活码永不丢失。

    工程打包： 支持导出 .nexflow 专有格式（ZIP 打包：JSON + 视频/图片素材），让用户可以像分享设计稿一样分享自己的 AI 工作流。

🛠️ 第一阶段：从“设置中心”点火

为了让你最快看到成效，你的 第一步（Day 1） 应该是让 Cursor 完成以下任务：

    项目初始化： 建立 Electron + Vite + React 的三层结构。

    设置页面： 做出能输入并保存两个 API Key 的 UI，并让主进程立刻去查一下余额。

    连接灯亮起： 当界面右上角显示出你的 RH币数量 和 BLTCY 余额 时，说明 NEXFLOW 的心脏已经开始跳动。